const mMSourceToPersist = {
  title: "First Edition",
  year: 1833,
  type: "EDITION",
  link: "https://s9.imslp.org/files/imglnks/usimg/9/91/IMSLP86550-PMLP02312-Chopin_Nocturnes_Op_9_Kistner_995_First_Edition_1832.pdf",
  comment: "",
  references: [
    {
      type: "PLATE_NUMBER",
      reference: "995",
    },
  ],
  isNew: true,
  contributions: [
    {
      person: {
        id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
        birthYear: 1810,
        deathYear: 1849,
        firstName: "Frédéric",
        lastName: "Chopin",
        isNew: true,
      },
      role: "MM_PROVIDER",
    },
    {
      person: {
        id: "ed57254c-4275-409f-b64e-6703d46aad4f",
        birthYear: 1797,
        deathYear: 1844,
        firstName: "Eduard",
        lastName: "Kistner",
        isNew: true,
      },
      role: "PUBLISHER",
    },
  ],
  pieceVersions: [
    {
      rank: 1,
      pieceVersion: {
        category: "KEYBOARD",
        movements: [
          {
            id: "b232c2e5-570c-4c40-97ec-61f70728cc61",
            rank: 1,
            key: "B_FLAT_MINOR",
            sections: [
              {
                id: "c762b2b9-8d1c-440f-b603-21a53f3c8b4a",
                metreNumerator: 6,
                metreDenominator: 4,
                isCommonTime: false,
                isCutTime: false,
                fastestStructuralNotesPerBar: 40,
                isFastestStructuralNoteBelCanto: true,
                fastestRepeatedNotesPerBar: 12,
                tempoIndication: {
                  id: "05a0cb9a-49fd-46d5-8f6c-b6752dc37e7f",
                  text: "Larghetto",
                },
                rank: 1,
                metronomeMarks: [
                  {
                    sectionId: "c762b2b9-8d1c-440f-b603-21a53f3c8b4a",
                    bpm: 116,
                    beatUnit: "QUARTER",
                    noMM: false,
                    pieceVersionRank: 1,
                    pieceVersionId: "04c918ae-6eba-48f8-835a-02fe6bba321a",
                  },
                ],
              },
            ],
          },
        ],
        pieceId: "0743fa7d-2d78-4069-991c-634cfa12a853",
        id: "04c918ae-6eba-48f8-835a-02fe6bba321a",
        isNew: true,
        piece: {
          title: "Nocturnes, Op.9 No.1",
          yearOfComposition: 1830,
          composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
          id: "0743fa7d-2d78-4069-991c-634cfa12a853",
          isNew: true,
          collectionId: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
          collectionRank: 1,
          composer: {
            id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
            birthYear: 1810,
            deathYear: 1849,
            firstName: "Frédéric",
            lastName: "Chopin",
            isNew: true,
          },
          collection: {
            title: "Nocturnes, Op.9",
            composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
            id: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
            isNew: true,
          },
        },
      },
    },
    {
      rank: 2,
      pieceVersion: {
        category: "KEYBOARD",
        movements: [
          {
            id: "f997d04c-3945-4553-9a5d-cd3ab32de87a",
            rank: 1,
            key: "E_FLAT_MAJOR",
            sections: [
              {
                id: "9e1fffbe-445b-46bd-ad2e-48e9148e1a03",
                metreNumerator: 12,
                metreDenominator: 8,
                isCommonTime: false,
                isCutTime: false,
                fastestStructuralNotesPerBar: 48,
                isFastestStructuralNoteBelCanto: true,
                fastestOrnamentalNotesPerBar: 72,
                tempoIndication: {
                  id: "79277b3a-8ce4-4066-965e-416b5581ccd8",
                  text: "Andante",
                },
                rank: 1,
                metronomeMarks: [
                  {
                    sectionId: "9e1fffbe-445b-46bd-ad2e-48e9148e1a03",
                    bpm: 132,
                    beatUnit: "QUARTER",
                    noMM: false,
                    pieceVersionRank: 2,
                    pieceVersionId: "2dde17ee-1cb5-499f-adbc-1479396eb447",
                  },
                ],
              },
            ],
          },
        ],
        pieceId: "7355847f-5e50-4d31-9eff-2c0b1731fb17",
        id: "2dde17ee-1cb5-499f-adbc-1479396eb447",
        isNew: true,
        piece: {
          title: "Nocturnes, Op.9 No.2",
          yearOfComposition: 1830,
          composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
          id: "7355847f-5e50-4d31-9eff-2c0b1731fb17",
          isNew: true,
          collectionId: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
          collectionRank: 2,
          composer: {
            id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
            birthYear: 1810,
            deathYear: 1849,
            firstName: "Frédéric",
            lastName: "Chopin",
            isNew: true,
          },
          collection: {
            title: "Nocturnes, Op.9",
            composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
            id: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
            isNew: true,
          },
        },
      },
    },
    {
      rank: 3,
      pieceVersion: {
        category: "KEYBOARD",
        movements: [
          {
            id: "375fb541-4e35-499e-96b4-a99bf9edea04",
            rank: 1,
            key: "B_MAJOR",
            sections: [
              {
                id: "67a60854-bb57-4c45-a481-8e9dd83568ae",
                metreNumerator: 6,
                metreDenominator: 8,
                isCommonTime: false,
                isCutTime: false,
                fastestStructuralNotesPerBar: 30,
                isFastestStructuralNoteBelCanto: true,
                fastestStaccatoNotesPerBar: 24,
                tempoIndication: {
                  id: "b1136290-812c-4ed8-9487-ec7d2ba92499",
                  text: "Allegretto",
                },
                rank: 1,
                metronomeMarks: [
                  {
                    sectionId: "67a60854-bb57-4c45-a481-8e9dd83568ae",
                    bpm: 66,
                    beatUnit: "QUARTER",
                    noMM: false,
                    pieceVersionRank: 3,
                    pieceVersionId: "1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108",
                  },
                ],
              },
              {
                id: "217a2d03-bcfc-428c-82a9-b022da22cff7",
                metreNumerator: 2,
                metreDenominator: 2,
                isCommonTime: false,
                isCutTime: true,
                fastestStructuralNotesPerBar: 12,
                isFastestStructuralNoteBelCanto: false,
                tempoIndication: {
                  id: "2723fad8-b08a-4e28-8e1a-03c3b260eea8",
                  text: "Agitato",
                },
                rank: 2,
                metronomeMarks: [
                  {
                    sectionId: "217a2d03-bcfc-428c-82a9-b022da22cff7",
                    noMM: true,
                    pieceVersionRank: 3,
                    pieceVersionId: "1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108",
                  },
                ],
              },
            ],
          },
        ],
        pieceId: "8115361f-404f-459e-9724-68c4cdb335c0",
        id: "1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108",
        isNew: true,
        piece: {
          title: "Nocturnes, Op.9 No.3",
          yearOfComposition: 1830,
          composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
          id: "8115361f-404f-459e-9724-68c4cdb335c0",
          isNew: true,
          collectionId: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
          collectionRank: 3,
          composer: {
            id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
            birthYear: 1810,
            deathYear: 1849,
            firstName: "Frédéric",
            lastName: "Chopin",
            isNew: true,
          },
          collection: {
            title: "Nocturnes, Op.9",
            composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
            id: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
            isNew: true,
          },
        },
      },
    },
  ],
};

const state = {
  formInfo: {
    currentStepRank: 5,
    introDone: true,
    isSourceOnPieceVersionformOpen: false,
    allSourceOnPieceVersionsDone: true,
  },
  mMSourceDescription: {
    title: "First Edition",
    year: 1833,
    type: "EDITION",
    link: "https://s9.imslp.org/files/imglnks/usimg/9/91/IMSLP86550-PMLP02312-Chopin_Nocturnes_Op_9_Kistner_995_First_Edition_1832.pdf",
    comment: "",
    references: [
      {
        type: "PLATE_NUMBER",
        reference: "995",
      },
    ],
    isNew: true,
  },
  mMSourceContributions: [
    {
      person: {
        id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
        birthYear: 1810,
        deathYear: 1849,
        firstName: "Frédéric",
        lastName: "Chopin",
        isNew: true,
      },
      role: "MM_PROVIDER",
    },
    {
      person: {
        id: "ed57254c-4275-409f-b64e-6703d46aad4f",
        birthYear: 1797,
        deathYear: 1844,
        firstName: "Eduard",
        lastName: "Kistner",
        isNew: true,
      },
      role: "PUBLISHER",
    },
  ],
  mMSourceOnPieceVersions: [
    {
      pieceVersionId: "04c918ae-6eba-48f8-835a-02fe6bba321a",
      rank: 1,
    },
    {
      pieceVersionId: "2dde17ee-1cb5-499f-adbc-1479396eb447",
      rank: 2,
    },
    {
      pieceVersionId: "1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108",
      rank: 3,
    },
  ],
  collections: [
    {
      title: "Nocturnes, Op.9",
      composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
      id: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
      isNew: true,
    },
  ],
  metronomeMarks: [
    {
      sectionId: "c762b2b9-8d1c-440f-b603-21a53f3c8b4a",
      bpm: 116,
      beatUnit: "QUARTER",
      noMM: false,
      pieceVersionRank: 1,
      pieceVersionId: "04c918ae-6eba-48f8-835a-02fe6bba321a",
    },
    {
      sectionId: "9e1fffbe-445b-46bd-ad2e-48e9148e1a03",
      bpm: 132,
      beatUnit: "QUARTER",
      noMM: false,
      pieceVersionRank: 2,
      pieceVersionId: "2dde17ee-1cb5-499f-adbc-1479396eb447",
    },
    {
      sectionId: "67a60854-bb57-4c45-a481-8e9dd83568ae",
      bpm: 66,
      beatUnit: "QUARTER",
      noMM: false,
      pieceVersionRank: 3,
      pieceVersionId: "1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108",
    },
    {
      sectionId: "217a2d03-bcfc-428c-82a9-b022da22cff7",
      noMM: true,
      pieceVersionRank: 3,
      pieceVersionId: "1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108",
    },
  ],
  organizations: [],
  persons: [
    {
      id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
      birthYear: 1810,
      deathYear: 1849,
      firstName: "Frédéric",
      lastName: "Chopin",
      isNew: true,
    },
    {
      id: "ed57254c-4275-409f-b64e-6703d46aad4f",
      birthYear: 1797,
      deathYear: 1844,
      firstName: "Eduard",
      lastName: "Kistner",
      isNew: true,
    },
  ],
  pieces: [
    {
      title: "Nocturnes, Op.9 No.1",
      yearOfComposition: 1830,
      composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
      id: "0743fa7d-2d78-4069-991c-634cfa12a853",
      isNew: true,
      collectionId: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
      collectionRank: 1,
    },
    {
      title: "Nocturnes, Op.9 No.2",
      yearOfComposition: 1830,
      composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
      id: "7355847f-5e50-4d31-9eff-2c0b1731fb17",
      isNew: true,
      collectionId: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
      collectionRank: 2,
    },
    {
      title: "Nocturnes, Op.9 No.3",
      yearOfComposition: 1830,
      composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
      id: "8115361f-404f-459e-9724-68c4cdb335c0",
      isNew: true,
      collectionId: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
      collectionRank: 3,
    },
  ],
  pieceVersions: [
    {
      category: "KEYBOARD",
      movements: [
        {
          id: "b232c2e5-570c-4c40-97ec-61f70728cc61",
          rank: 1,
          key: "B_FLAT_MINOR",
          sections: [
            {
              id: "c762b2b9-8d1c-440f-b603-21a53f3c8b4a",
              metreNumerator: 6,
              metreDenominator: 4,
              isCommonTime: false,
              isCutTime: false,
              fastestStructuralNotesPerBar: 40,
              isFastestStructuralNoteBelCanto: true,
              fastestRepeatedNotesPerBar: 12,
              tempoIndication: {
                id: "05a0cb9a-49fd-46d5-8f6c-b6752dc37e7f",
                text: "Larghetto",
              },
              rank: 1,
            },
          ],
        },
      ],
      pieceId: "0743fa7d-2d78-4069-991c-634cfa12a853",
      id: "04c918ae-6eba-48f8-835a-02fe6bba321a",
      isNew: true,
    },
    {
      category: "KEYBOARD",
      movements: [
        {
          id: "f997d04c-3945-4553-9a5d-cd3ab32de87a",
          rank: 1,
          key: "E_FLAT_MAJOR",
          sections: [
            {
              id: "9e1fffbe-445b-46bd-ad2e-48e9148e1a03",
              metreNumerator: 12,
              metreDenominator: 8,
              isCommonTime: false,
              isCutTime: false,
              fastestStructuralNotesPerBar: 48,
              isFastestStructuralNoteBelCanto: true,
              fastestOrnamentalNotesPerBar: 72,
              tempoIndication: {
                id: "79277b3a-8ce4-4066-965e-416b5581ccd8",
                text: "Andante",
              },
              rank: 1,
            },
          ],
        },
      ],
      pieceId: "7355847f-5e50-4d31-9eff-2c0b1731fb17",
      id: "2dde17ee-1cb5-499f-adbc-1479396eb447",
      isNew: true,
    },
    {
      category: "KEYBOARD",
      movements: [
        {
          id: "375fb541-4e35-499e-96b4-a99bf9edea04",
          rank: 1,
          key: "B_MAJOR",
          sections: [
            {
              id: "67a60854-bb57-4c45-a481-8e9dd83568ae",
              metreNumerator: 6,
              metreDenominator: 8,
              isCommonTime: false,
              isCutTime: false,
              fastestStructuralNotesPerBar: 30,
              isFastestStructuralNoteBelCanto: true,
              fastestStaccatoNotesPerBar: 24,
              tempoIndication: {
                id: "b1136290-812c-4ed8-9487-ec7d2ba92499",
                text: "Allegretto",
              },
              rank: 1,
            },
            {
              id: "217a2d03-bcfc-428c-82a9-b022da22cff7",
              metreNumerator: 2,
              metreDenominator: 2,
              isCommonTime: false,
              isCutTime: true,
              fastestStructuralNotesPerBar: 12,
              isFastestStructuralNoteBelCanto: false,
              tempoIndication: {
                id: "2723fad8-b08a-4e28-8e1a-03c3b260eea8",
                text: "Agitato",
              },
              rank: 2,
            },
          ],
        },
      ],
      pieceId: "8115361f-404f-459e-9724-68c4cdb335c0",
      id: "1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108",
      isNew: true,
    },
  ],
  tempoIndications: [],
};

const error = {
  error:
    "Error during DB persistence: \nInvalid `prisma.mMSource.create()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)",
  composerCreateManyInput: [
    {
      id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
      firstName: "Frédéric",
      lastName: "Chopin",
      birthYear: 1810,
      creatorId: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
    },
  ],
  collectionCreateManyInput: [
    {
      id: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
      title: "Nocturnes, Op.9",
      composerId: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
      creatorId: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
    },
  ],
  mMSourceInput: {
    title: "First Edition",
    year: 1833,
    link: "https://s9.imslp.org/files/imglnks/usimg/9/91/IMSLP86550-PMLP02312-Chopin_Nocturnes_Op_9_Kistner_995_First_Edition_1832.pdf",
    type: "EDITION",
    references: {
      create: [
        {
          type: "PLATE_NUMBER",
          reference: "995",
        },
      ],
    },
    contributions: {
      create: [
        {
          role: "MM_PROVIDER",
          person: {
            create: {
              id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
              firstName: "Frédéric",
              lastName: "Chopin",
              birthYear: 1810,
              deathYear: 1849,
              creator: {
                connect: {
                  id: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
                },
              },
            },
          },
        },
        {
          role: "PUBLISHER",
          person: {
            create: {
              id: "ed57254c-4275-409f-b64e-6703d46aad4f",
              firstName: "Eduard",
              lastName: "Kistner",
              birthYear: 1797,
              deathYear: 1844,
              creator: {
                connect: {
                  id: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
                },
              },
            },
          },
        },
      ],
    },
    pieceVersions: {
      create: [
        {
          rank: 1,
          pieceVersion: {
            create: {
              piece: {
                create: {
                  id: "0743fa7d-2d78-4069-991c-634cfa12a853",
                  yearOfComposition: 1830,
                  title: "Nocturnes, Op.9 No.1",
                  composer: {
                    connect: {
                      id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
                    },
                  },
                  creator: {
                    connect: {
                      id: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
                    },
                  },
                  collection: {
                    connect: {
                      id: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
                    },
                  },
                },
              },
              id: "04c918ae-6eba-48f8-835a-02fe6bba321a",
              category: "KEYBOARD",
              creator: {
                connect: {
                  id: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
                },
              },
              movements: {
                create: [
                  {
                    id: "b232c2e5-570c-4c40-97ec-61f70728cc61",
                    rank: 1,
                    key: "B_FLAT_MINOR",
                    sections: {
                      create: [
                        {
                          id: "c762b2b9-8d1c-440f-b603-21a53f3c8b4a",
                          rank: 1,
                          metreNumerator: 6,
                          metreDenominator: 4,
                          isCommonTime: false,
                          isCutTime: false,
                          fastestStructuralNotesPerBar: 40,
                          fastestRepeatedNotesPerBar: 12,
                          isFastestStructuralNoteBelCanto: true,
                          tempoIndication: {
                            connect: {
                              id: "05a0cb9a-49fd-46d5-8f6c-b6752dc37e7f",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
        {
          rank: 2,
          pieceVersion: {
            create: {
              piece: {
                create: {
                  id: "7355847f-5e50-4d31-9eff-2c0b1731fb17",
                  yearOfComposition: 1830,
                  title: "Nocturnes, Op.9 No.2",
                  composer: {
                    connect: {
                      id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
                    },
                  },
                  creator: {
                    connect: {
                      id: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
                    },
                  },
                  collection: {
                    connect: {
                      id: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
                    },
                  },
                },
              },
              id: "2dde17ee-1cb5-499f-adbc-1479396eb447",
              category: "KEYBOARD",
              creator: {
                connect: {
                  id: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
                },
              },
              movements: {
                create: [
                  {
                    id: "f997d04c-3945-4553-9a5d-cd3ab32de87a",
                    rank: 1,
                    key: "E_FLAT_MAJOR",
                    sections: {
                      create: [
                        {
                          id: "9e1fffbe-445b-46bd-ad2e-48e9148e1a03",
                          rank: 1,
                          metreNumerator: 12,
                          metreDenominator: 8,
                          isCommonTime: false,
                          isCutTime: false,
                          fastestStructuralNotesPerBar: 48,
                          fastestOrnamentalNotesPerBar: 72,
                          isFastestStructuralNoteBelCanto: true,
                          tempoIndication: {
                            connect: {
                              id: "79277b3a-8ce4-4066-965e-416b5581ccd8",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
        {
          rank: 3,
          pieceVersion: {
            create: {
              piece: {
                create: {
                  id: "8115361f-404f-459e-9724-68c4cdb335c0",
                  yearOfComposition: 1830,
                  title: "Nocturnes, Op.9 No.3",
                  composer: {
                    connect: {
                      id: "5444b82e-11cb-47b5-83a5-4777fdf8cead",
                    },
                  },
                  creator: {
                    connect: {
                      id: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
                    },
                  },
                  collection: {
                    connect: {
                      id: "cbadafd7-537d-4531-93b3-f7d47c1df25c",
                    },
                  },
                },
              },
              id: "1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108",
              category: "KEYBOARD",
              creator: {
                connect: {
                  id: "4f492b27-e1a3-47c2-b92f-a5cc87137e17",
                },
              },
              movements: {
                create: [
                  {
                    id: "375fb541-4e35-499e-96b4-a99bf9edea04",
                    rank: 1,
                    key: "B_MAJOR",
                    sections: {
                      create: [
                        {
                          id: "67a60854-bb57-4c45-a481-8e9dd83568ae",
                          rank: 1,
                          metreNumerator: 6,
                          metreDenominator: 8,
                          isCommonTime: false,
                          isCutTime: false,
                          fastestStructuralNotesPerBar: 30,
                          fastestStaccatoNotesPerBar: 24,
                          isFastestStructuralNoteBelCanto: true,
                          tempoIndication: {
                            connect: {
                              id: "b1136290-812c-4ed8-9487-ec7d2ba92499",
                            },
                          },
                        },
                        {
                          id: "217a2d03-bcfc-428c-82a9-b022da22cff7",
                          rank: 2,
                          metreNumerator: 2,
                          metreDenominator: 2,
                          isCommonTime: false,
                          isCutTime: true,
                          fastestStructuralNotesPerBar: 12,
                          isFastestStructuralNoteBelCanto: false,
                          tempoIndication: {
                            connect: {
                              id: "2723fad8-b08a-4e28-8e1a-03c3b260eea8",
                            },
                          },
                        },
                      ],
                    },
                  },
                ],
              },
            },
          },
        },
      ],
    },
  },
  txDebug: {
    composers: {
      count: 1,
    },
    collections: {
      count: 1,
    },
  },
};

// [getNotesPerSecondCollectionFromNotesPerBarCollectionAndMM ERROR] mm : [gNPSFNPB] Invalid or missing parameter: {"notesPerBar":12,"metreNumerator":2,"metreDenominator":2}
// 992-790d8a1dd47f60c9.js:1 [] Frédéric Chopin: Nocturnes, Op.9 No.3 - mvt#1 - section#2
// 992-790d8a1dd47f60c9.js:1 [] mm {"sectionId":"217a2d03-bcfc-428c-82a9-b022da22cff7","noMM":true,"pieceVersionRank":3,"pieceVersionId":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108"}
// 560-bb38c39ce50db578.js:1 [FeedSummary] saveAll mMSourceToPersist : {"title":"First Edition","year":1833,"type":"EDITION","link":"https://s9.imslp.org/files/imglnks/usimg/9/91/IMSLP86550-PMLP02312-Chopin_Nocturnes_Op_9_Kistner_995_First_Edition_1832.pdf","comment":"","references":[{"type":"PLATE_NUMBER","reference":"995"}],"isNew":true,"contributions":[{"person":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead","birthYear":1810,"deathYear":1849,"firstName":"Frédéric","lastName":"Chopin","isNew":true},"role":"MM_PROVIDER"},{"person":{"id":"ed57254c-4275-409f-b64e-6703d46aad4f","birthYear":1797,"deathYear":1844,"firstName":"Eduard","lastName":"Kistner","isNew":true},"role":"PUBLISHER"}],"pieceVersions":[{"rank":1,"pieceVersion":{"category":"KEYBOARD","movements":[{"id":"b232c2e5-570c-4c40-97ec-61f70728cc61","rank":1,"key":"B_FLAT_MINOR","sections":[{"id":"c762b2b9-8d1c-440f-b603-21a53f3c8b4a","metreNumerator":6,"metreDenominator":4,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":40,"isFastestStructuralNoteBelCanto":true,"fastestRepeatedNotesPerBar":12,"tempoIndication":{"id":"05a0cb9a-49fd-46d5-8f6c-b6752dc37e7f","text":"Larghetto"},"rank":1,"metronomeMarks":[{"sectionId":"c762b2b9-8d1c-440f-b603-21a53f3c8b4a","bpm":116,"beatUnit":"QUARTER","noMM":false,"pieceVersionRank":1,"pieceVersionId":"04c918ae-6eba-48f8-835a-02fe6bba321a"}]}]}],"pieceId":"0743fa7d-2d78-4069-991c-634cfa12a853","id":"04c918ae-6eba-48f8-835a-02fe6bba321a","isNew":true,"piece":{"title":"Nocturnes, Op.9 No.1","yearOfComposition":1830,"composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"0743fa7d-2d78-4069-991c-634cfa12a853","isNew":true,"collectionId":"cbadafd7-537d-4531-93b3-f7d47c1df25c","collectionRank":1,"composer":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead","birthYear":1810,"deathYear":1849,"firstName":"Frédéric","lastName":"Chopin","isNew":true},"collection":{"title":"Nocturnes, Op.9","composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"cbadafd7-537d-4531-93b3-f7d47c1df25c","isNew":true}}}},{"rank":2,"pieceVersion":{"category":"KEYBOARD","movements":[{"id":"f997d04c-3945-4553-9a5d-cd3ab32de87a","rank":1,"key":"E_FLAT_MAJOR","sections":[{"id":"9e1fffbe-445b-46bd-ad2e-48e9148e1a03","metreNumerator":12,"metreDenominator":8,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":48,"isFastestStructuralNoteBelCanto":true,"fastestOrnamentalNotesPerBar":72,"tempoIndication":{"id":"79277b3a-8ce4-4066-965e-416b5581ccd8","text":"Andante"},"rank":1,"metronomeMarks":[{"sectionId":"9e1fffbe-445b-46bd-ad2e-48e9148e1a03","bpm":132,"beatUnit":"QUARTER","noMM":false,"pieceVersionRank":2,"pieceVersionId":"2dde17ee-1cb5-499f-adbc-1479396eb447"}]}]}],"pieceId":"7355847f-5e50-4d31-9eff-2c0b1731fb17","id":"2dde17ee-1cb5-499f-adbc-1479396eb447","isNew":true,"piece":{"title":"Nocturnes, Op.9 No.2","yearOfComposition":1830,"composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"7355847f-5e50-4d31-9eff-2c0b1731fb17","isNew":true,"collectionId":"cbadafd7-537d-4531-93b3-f7d47c1df25c","collectionRank":2,"composer":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead","birthYear":1810,"deathYear":1849,"firstName":"Frédéric","lastName":"Chopin","isNew":true},"collection":{"title":"Nocturnes, Op.9","composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"cbadafd7-537d-4531-93b3-f7d47c1df25c","isNew":true}}}},{"rank":3,"pieceVersion":{"category":"KEYBOARD","movements":[{"id":"375fb541-4e35-499e-96b4-a99bf9edea04","rank":1,"key":"B_MAJOR","sections":[{"id":"67a60854-bb57-4c45-a481-8e9dd83568ae","metreNumerator":6,"metreDenominator":8,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":30,"isFastestStructuralNoteBelCanto":true,"fastestStaccatoNotesPerBar":24,"tempoIndication":{"id":"b1136290-812c-4ed8-9487-ec7d2ba92499","text":"Allegretto"},"rank":1,"metronomeMarks":[{"sectionId":"67a60854-bb57-4c45-a481-8e9dd83568ae","bpm":66,"beatUnit":"QUARTER","noMM":false,"pieceVersionRank":3,"pieceVersionId":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108"}]},{"id":"217a2d03-bcfc-428c-82a9-b022da22cff7","metreNumerator":2,"metreDenominator":2,"isCommonTime":false,"isCutTime":true,"fastestStructuralNotesPerBar":12,"isFastestStructuralNoteBelCanto":false,"tempoIndication":{"id":"2723fad8-b08a-4e28-8e1a-03c3b260eea8","text":"Agitato"},"rank":2,"metronomeMarks":[{"sectionId":"217a2d03-bcfc-428c-82a9-b022da22cff7","noMM":true,"pieceVersionRank":3,"pieceVersionId":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108"}]}]}],"pieceId":"8115361f-404f-459e-9724-68c4cdb335c0","id":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108","isNew":true,"piece":{"title":"Nocturnes, Op.9 No.3","yearOfComposition":1830,"composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"8115361f-404f-459e-9724-68c4cdb335c0","isNew":true,"collectionId":"cbadafd7-537d-4531-93b3-f7d47c1df25c","collectionRank":3,"composer":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead","birthYear":1810,"deathYear":1849,"firstName":"Frédéric","lastName":"Chopin","isNew":true},"collection":{"title":"Nocturnes, Op.9","composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"cbadafd7-537d-4531-93b3-f7d47c1df25c","isNew":true}}}}]}
// 560-bb38c39ce50db578.js:1 [FeedSummary] saveAll state : {"formInfo":{"currentStepRank":5,"introDone":true,"isSourceOnPieceVersionformOpen":false,"allSourceOnPieceVersionsDone":true},"mMSourceDescription":{"title":"First Edition","year":1833,"type":"EDITION","link":"https://s9.imslp.org/files/imglnks/usimg/9/91/IMSLP86550-PMLP02312-Chopin_Nocturnes_Op_9_Kistner_995_First_Edition_1832.pdf","comment":"","references":[{"type":"PLATE_NUMBER","reference":"995"}],"isNew":true},"mMSourceContributions":[{"person":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead","birthYear":1810,"deathYear":1849,"firstName":"Frédéric","lastName":"Chopin","isNew":true},"role":"MM_PROVIDER"},{"person":{"id":"ed57254c-4275-409f-b64e-6703d46aad4f","birthYear":1797,"deathYear":1844,"firstName":"Eduard","lastName":"Kistner","isNew":true},"role":"PUBLISHER"}],"mMSourceOnPieceVersions":[{"pieceVersionId":"04c918ae-6eba-48f8-835a-02fe6bba321a","rank":1},{"pieceVersionId":"2dde17ee-1cb5-499f-adbc-1479396eb447","rank":2},{"pieceVersionId":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108","rank":3}],"collections":[{"title":"Nocturnes, Op.9","composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"cbadafd7-537d-4531-93b3-f7d47c1df25c","isNew":true}],"metronomeMarks":[{"sectionId":"c762b2b9-8d1c-440f-b603-21a53f3c8b4a","bpm":116,"beatUnit":"QUARTER","noMM":false,"pieceVersionRank":1,"pieceVersionId":"04c918ae-6eba-48f8-835a-02fe6bba321a"},{"sectionId":"9e1fffbe-445b-46bd-ad2e-48e9148e1a03","bpm":132,"beatUnit":"QUARTER","noMM":false,"pieceVersionRank":2,"pieceVersionId":"2dde17ee-1cb5-499f-adbc-1479396eb447"},{"sectionId":"67a60854-bb57-4c45-a481-8e9dd83568ae","bpm":66,"beatUnit":"QUARTER","noMM":false,"pieceVersionRank":3,"pieceVersionId":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108"},{"sectionId":"217a2d03-bcfc-428c-82a9-b022da22cff7","noMM":true,"pieceVersionRank":3,"pieceVersionId":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108"}],"organizations":[],"persons":[{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead","birthYear":1810,"deathYear":1849,"firstName":"Frédéric","lastName":"Chopin","isNew":true},{"id":"ed57254c-4275-409f-b64e-6703d46aad4f","birthYear":1797,"deathYear":1844,"firstName":"Eduard","lastName":"Kistner","isNew":true}],"pieces":[{"title":"Nocturnes, Op.9 No.1","yearOfComposition":1830,"composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"0743fa7d-2d78-4069-991c-634cfa12a853","isNew":true,"collectionId":"cbadafd7-537d-4531-93b3-f7d47c1df25c","collectionRank":1},{"title":"Nocturnes, Op.9 No.2","yearOfComposition":1830,"composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"7355847f-5e50-4d31-9eff-2c0b1731fb17","isNew":true,"collectionId":"cbadafd7-537d-4531-93b3-f7d47c1df25c","collectionRank":2},{"title":"Nocturnes, Op.9 No.3","yearOfComposition":1830,"composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","id":"8115361f-404f-459e-9724-68c4cdb335c0","isNew":true,"collectionId":"cbadafd7-537d-4531-93b3-f7d47c1df25c","collectionRank":3}],"pieceVersions":[{"category":"KEYBOARD","movements":[{"id":"b232c2e5-570c-4c40-97ec-61f70728cc61","rank":1,"key":"B_FLAT_MINOR","sections":[{"id":"c762b2b9-8d1c-440f-b603-21a53f3c8b4a","metreNumerator":6,"metreDenominator":4,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":40,"isFastestStructuralNoteBelCanto":true,"fastestRepeatedNotesPerBar":12,"tempoIndication":{"id":"05a0cb9a-49fd-46d5-8f6c-b6752dc37e7f","text":"Larghetto"},"rank":1}]}],"pieceId":"0743fa7d-2d78-4069-991c-634cfa12a853","id":"04c918ae-6eba-48f8-835a-02fe6bba321a","isNew":true},{"category":"KEYBOARD","movements":[{"id":"f997d04c-3945-4553-9a5d-cd3ab32de87a","rank":1,"key":"E_FLAT_MAJOR","sections":[{"id":"9e1fffbe-445b-46bd-ad2e-48e9148e1a03","metreNumerator":12,"metreDenominator":8,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":48,"isFastestStructuralNoteBelCanto":true,"fastestOrnamentalNotesPerBar":72,"tempoIndication":{"id":"79277b3a-8ce4-4066-965e-416b5581ccd8","text":"Andante"},"rank":1}]}],"pieceId":"7355847f-5e50-4d31-9eff-2c0b1731fb17","id":"2dde17ee-1cb5-499f-adbc-1479396eb447","isNew":true},{"category":"KEYBOARD","movements":[{"id":"375fb541-4e35-499e-96b4-a99bf9edea04","rank":1,"key":"B_MAJOR","sections":[{"id":"67a60854-bb57-4c45-a481-8e9dd83568ae","metreNumerator":6,"metreDenominator":8,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":30,"isFastestStructuralNoteBelCanto":true,"fastestStaccatoNotesPerBar":24,"tempoIndication":{"id":"b1136290-812c-4ed8-9487-ec7d2ba92499","text":"Allegretto"},"rank":1},{"id":"217a2d03-bcfc-428c-82a9-b022da22cff7","metreNumerator":2,"metreDenominator":2,"isCommonTime":false,"isCutTime":true,"fastestStructuralNotesPerBar":12,"isFastestStructuralNoteBelCanto":false,"tempoIndication":{"id":"2723fad8-b08a-4e28-8e1a-03c3b260eea8","text":"Agitato"},"rank":2}]}],"pieceId":"8115361f-404f-459e-9724-68c4cdb335c0","id":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108","isNew":true}],"tempoIndications":[]}
// 992-790d8a1dd47f60c9.js:1 --------------------------------------------------
//   992-790d8a1dd47f60c9.js:1 [getNotesPerSecondCollectionFromNotesPerBarCollectionAndMM ERROR] mm : [gNPSFNPB] Invalid or missing parameter: {"notesPerBar":12,"metreNumerator":2,"metreDenominator":2}
// 992-790d8a1dd47f60c9.js:1 [] Frédéric Chopin: Nocturnes, Op.9 No.3 - mvt#1 - section#2
// 992-790d8a1dd47f60c9.js:1 [] mm {"sectionId":"217a2d03-bcfc-428c-82a9-b022da22cff7","noMM":true,"pieceVersionRank":3,"pieceVersionId":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108"}
// api/feedForm:1
//
//
// Failed to load resource: the server responded with a status of 500 ()
// 117-4ffa4a3e3fbf615a.js:1 Error submitting form: {"error":"Error during DB persistence: \nInvalid `prisma.mMSource.create()` invocation:\n\n\nUnique constraint failed on the fields: (`id`)","composerCreateManyInput":[{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead","firstName":"Frédéric","lastName":"Chopin","birthYear":1810,"creatorId":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}],"collectionCreateManyInput":[{"id":"cbadafd7-537d-4531-93b3-f7d47c1df25c","title":"Nocturnes, Op.9","composerId":"5444b82e-11cb-47b5-83a5-4777fdf8cead","creatorId":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}],"mMSourceInput":{"title":"First Edition","year":1833,"link":"https://s9.imslp.org/files/imglnks/usimg/9/91/IMSLP86550-PMLP02312-Chopin_Nocturnes_Op_9_Kistner_995_First_Edition_1832.pdf","type":"EDITION","references":{"create":[{"type":"PLATE_NUMBER","reference":"995"}]},"contributions":{"create":[{"role":"MM_PROVIDER","person":{"create":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead","firstName":"Frédéric","lastName":"Chopin","birthYear":1810,"deathYear":1849,"creator":{"connect":{"id":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}}}}},{"role":"PUBLISHER","person":{"create":{"id":"ed57254c-4275-409f-b64e-6703d46aad4f","firstName":"Eduard","lastName":"Kistner","birthYear":1797,"deathYear":1844,"creator":{"connect":{"id":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}}}}}]},"pieceVersions":{"create":[{"rank":1,"pieceVersion":{"create":{"piece":{"create":{"id":"0743fa7d-2d78-4069-991c-634cfa12a853","yearOfComposition":1830,"title":"Nocturnes, Op.9 No.1","composer":{"connect":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead"}},"creator":{"connect":{"id":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}},"collection":{"connect":{"id":"cbadafd7-537d-4531-93b3-f7d47c1df25c"}}}},"id":"04c918ae-6eba-48f8-835a-02fe6bba321a","category":"KEYBOARD","creator":{"connect":{"id":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}},"movements":{"create":[{"id":"b232c2e5-570c-4c40-97ec-61f70728cc61","rank":1,"key":"B_FLAT_MINOR","sections":{"create":[{"id":"c762b2b9-8d1c-440f-b603-21a53f3c8b4a","rank":1,"metreNumerator":6,"metreDenominator":4,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":40,"fastestRepeatedNotesPerBar":12,"isFastestStructuralNoteBelCanto":true,"tempoIndication":{"connect":{"id":"05a0cb9a-49fd-46d5-8f6c-b6752dc37e7f"}}}]}}]}}}},{"rank":2,"pieceVersion":{"create":{"piece":{"create":{"id":"7355847f-5e50-4d31-9eff-2c0b1731fb17","yearOfComposition":1830,"title":"Nocturnes, Op.9 No.2","composer":{"connect":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead"}},"creator":{"connect":{"id":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}},"collection":{"connect":{"id":"cbadafd7-537d-4531-93b3-f7d47c1df25c"}}}},"id":"2dde17ee-1cb5-499f-adbc-1479396eb447","category":"KEYBOARD","creator":{"connect":{"id":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}},"movements":{"create":[{"id":"f997d04c-3945-4553-9a5d-cd3ab32de87a","rank":1,"key":"E_FLAT_MAJOR","sections":{"create":[{"id":"9e1fffbe-445b-46bd-ad2e-48e9148e1a03","rank":1,"metreNumerator":12,"metreDenominator":8,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":48,"fastestOrnamentalNotesPerBar":72,"isFastestStructuralNoteBelCanto":true,"tempoIndication":{"connect":{"id":"79277b3a-8ce4-4066-965e-416b5581ccd8"}}}]}}]}}}},{"rank":3,"pieceVersion":{"create":{"piece":{"create":{"id":"8115361f-404f-459e-9724-68c4cdb335c0","yearOfComposition":1830,"title":"Nocturnes, Op.9 No.3","composer":{"connect":{"id":"5444b82e-11cb-47b5-83a5-4777fdf8cead"}},"creator":{"connect":{"id":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}},"collection":{"connect":{"id":"cbadafd7-537d-4531-93b3-f7d47c1df25c"}}}},"id":"1b2fd1c2-b226-4cb1-a2a8-d3c06f6a3108","category":"KEYBOARD","creator":{"connect":{"id":"4f492b27-e1a3-47c2-b92f-a5cc87137e17"}},"movements":{"create":[{"id":"375fb541-4e35-499e-96b4-a99bf9edea04","rank":1,"key":"B_MAJOR","sections":{"create":[{"id":"67a60854-bb57-4c45-a481-8e9dd83568ae","rank":1,"metreNumerator":6,"metreDenominator":8,"isCommonTime":false,"isCutTime":false,"fastestStructuralNotesPerBar":30,"fastestStaccatoNotesPerBar":24,"isFastestStructuralNoteBelCanto":true,"tempoIndication":{"connect":{"id":"b1136290-812c-4ed8-9487-ec7d2ba92499"}}},{"id":"217a2d03-bcfc-428c-82a9-b022da22cff7","rank":2,"metreNumerator":2,"metreDenominator":2,"isCommonTime":false,"isCutTime":true,"fastestStructuralNotesPerBar":12,"isFastestStructuralNoteBelCanto":false,"tempoIndication":{"connect":{"id":"2723fad8-b08a-4e28-8e1a-03c3b260eea8"}}}]}}]}}}}]}},"txDebug":{"composers":{"count":1},"collections":{"count":1}}}
// window.console.error @ 117-4ffa4a3e3fbf615a.js:1
